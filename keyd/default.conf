# keyb — Home-row navigation & selection (Linux keyd)
# Save as: /etc/keyd/default.conf
# Requires: keyd >= 2.4
# Notes:
#   - Hold Caps → enter "nav" layer. Tap Caps → sends Escape (tweak if you want real Caps).
#   - Win+J toggles nav layer (sticky “NavMode”).
#   - Mappings follow your README table.

[ids]
# leave empty to apply to all keyboards

[main]
# Caps acts as a dual-role: tap=esc, hold=nav layer
capslock = overload(nav, esc)

# OS-wide toggle for the nav layer (NavMode) — Win+J
leftmeta+j = toggle(nav)

[nav]
# Arrows: WASD and IJKL clusters
w = up
a = left
s = down
d = right

i = up
j = left
k = down
l = right

# Home / End
h = home
apostrophe = end           # ' key

# Page Up / Page Down
p = pageup
slash = pagedown           # / key

# Word-left / Word-right
comma = C-left             # ,
dot = C-right              # .

# Multi-line moves
u = macro(up, up)                          # up 2
m = macro(down, down)                      # down 2
y = macro(up, up, up, up, up)              # up 5
n = macro(down, down, down, down, down)    # down 5
t = macro( up, up, up, up, up,  up, up, up, up, up)   # up 10
b = macro(down, down, down, down, down, down, down, down, down, down) # down 10

# Expand selection by word (backward/forward)
e = C-S-left
r = C-S-right

# Expand selection by character (backward/forward)
c = S-left
v = S-right

# Expand selection by character (forward/backward) — alt chord per README
q   = S-right
tab = S-left

# Expand selection to line end/start
x = S-end
z = S-home

# Expand selection by word (alt chords)
leftbracket  = C-S-left     # [
rightbracket = C-S-right    # ]

# Select current word / select line
# - Select word: jump to word start, then extend to its end
f = macro(C-left, C-S-right)
# - Select line: Home then extend to End (map both g and backslash)
g = macro(home, S-end)
backslash = macro(home, S-end)

# Function keys on number row (F1..F12)
1 = f1
2 = f2
3 = f3
4 = f4
5 = f5
6 = f6
7 = f7
8 = f8
9 = f9
0 = f10
minus = f11
equal = f12
